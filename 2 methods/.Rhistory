setwd("C:/Users/secci/Workspace/TFM/R/2 methods")
library(sas7bdat)
library(nnet)
library(dummies)
library(MASS)
library(reshape)
library(caret)
source("../cruzada SVM binaria lineal.R")
source("../cruzada SVM binaria polinomial.R")
source("../cruzada SVM binaria RBF.R")
source("../cruzadas avnnet y log binaria.R")
source("../cruzada gbm binaria.R")
source("../cruzada rf binaria.R")
source("../cruzada xgboost binaria.R")
source("../cruzada arbolbin.R")
news_reduced_clean_two_methods <-
read.sas7bdat("../../Lib/news_reduced_clean_two_methods.sas7bdat")
news_reduced_clean_two_methods$REP_clicked <- factor(news_reduced_clean_two_methods$REP_clicked, levels = c(0, 1), labels = c("No", "Yes"))
news_reduced_clean_two_methods$REP_P102_head <- factor(news_reduced_clean_two_methods$REP_P102_head)
news_reduced_clean_two_methods$REP_P103_head <- factor(news_reduced_clean_two_methods$REP_P103_head)
news_reduced_clean_two_methods$REP_P103_tail <- factor(news_reduced_clean_two_methods$REP_P103_tail)
news_reduced_clean_two_methods$REP_P1050_head <- factor(news_reduced_clean_two_methods$REP_P1050_head)
news_reduced_clean_two_methods$REP_P1050_tail <- factor(news_reduced_clean_two_methods$REP_P1050_tail)
news_reduced_clean_two_methods$REP_P106_head <- factor(news_reduced_clean_two_methods$REP_P106_head)
news_reduced_clean_two_methods$REP_P106_tail <- factor(news_reduced_clean_two_methods$REP_P106_tail)
news_reduced_clean_two_methods$REP_P118_head <- factor(news_reduced_clean_two_methods$REP_P118_head)
news_reduced_clean_two_methods$REP_P131_tail <- factor(news_reduced_clean_two_methods$REP_P131_tail)
news_reduced_clean_two_methods$REP_P1340_tail <- factor(news_reduced_clean_two_methods$REP_P1340_tail)
news_reduced_clean_two_methods$REP_P1343_head <- factor(news_reduced_clean_two_methods$REP_P1343_head)
news_reduced_clean_two_methods$REP_P1343_tail <- factor(news_reduced_clean_two_methods$REP_P1343_tail)
news_reduced_clean_two_methods$REP_P1412_head <- factor(news_reduced_clean_two_methods$REP_P1412_head)
news_reduced_clean_two_methods$REP_P1412_tail <- factor(news_reduced_clean_two_methods$REP_P1412_tail)
news_reduced_clean_two_methods$REP_P1532_head <- factor(news_reduced_clean_two_methods$REP_P1532_head)
news_reduced_clean_two_methods$REP_P1622_head <- factor(news_reduced_clean_two_methods$REP_P1622_head)
news_reduced_clean_two_methods$REP_P166_head <- factor(news_reduced_clean_two_methods$REP_P166_head)
news_reduced_clean_two_methods$REP_P166_tail <- factor(news_reduced_clean_two_methods$REP_P166_tail)
news_reduced_clean_two_methods$REP_P172_head <- factor(news_reduced_clean_two_methods$REP_P172_head)
news_reduced_clean_two_methods$REP_P172_tail <- factor(news_reduced_clean_two_methods$REP_P172_tail)
news_reduced_clean_two_methods$REP_P17_tail <- factor(news_reduced_clean_two_methods$REP_P17_tail)
news_reduced_clean_two_methods$REP_P1884_tail <- factor(news_reduced_clean_two_methods$REP_P1884_tail)
news_reduced_clean_two_methods$REP_P206_head <- factor(news_reduced_clean_two_methods$REP_P206_head)
news_reduced_clean_two_methods$REP_P206_tail <- factor(news_reduced_clean_two_methods$REP_P206_tail)
news_reduced_clean_two_methods$REP_P21_head <- factor(news_reduced_clean_two_methods$REP_P21_head)
news_reduced_clean_two_methods$REP_P27_tail <- factor(news_reduced_clean_two_methods$REP_P27_tail)
news_reduced_clean_two_methods$REP_P2936_head <- factor(news_reduced_clean_two_methods$REP_P2936_head)
news_reduced_clean_two_methods$REP_P2936_tail <- factor(news_reduced_clean_two_methods$REP_P2936_tail)
news_reduced_clean_two_methods$REP_P30_head <- factor(news_reduced_clean_two_methods$REP_P30_head)
news_reduced_clean_two_methods$REP_P30_tail <- factor(news_reduced_clean_two_methods$REP_P30_tail)
news_reduced_clean_two_methods$REP_P31_head <- factor(news_reduced_clean_two_methods$REP_P31_head)
news_reduced_clean_two_methods$REP_P31_tail <- factor(news_reduced_clean_two_methods$REP_P31_tail)
news_reduced_clean_two_methods$REP_P361_head <- factor(news_reduced_clean_two_methods$REP_P361_head)
news_reduced_clean_two_methods$REP_P361_tail <- factor(news_reduced_clean_two_methods$REP_P361_tail)
news_reduced_clean_two_methods$REP_P37_head <- factor(news_reduced_clean_two_methods$REP_P37_head)
news_reduced_clean_two_methods$REP_P37_tail <- factor(news_reduced_clean_two_methods$REP_P37_tail)
news_reduced_clean_two_methods$REP_P39_tail <- factor(news_reduced_clean_two_methods$REP_P39_tail)
news_reduced_clean_two_methods$REP_P421_tail <- factor(news_reduced_clean_two_methods$REP_P421_tail)
news_reduced_clean_two_methods$REP_P463_tail <- factor(news_reduced_clean_two_methods$REP_P463_tail)
news_reduced_clean_two_methods$REP_P495_head <- factor(news_reduced_clean_two_methods$REP_P495_head)
news_reduced_clean_two_methods$REP_P5008_head <- factor(news_reduced_clean_two_methods$REP_P5008_head)
news_reduced_clean_two_methods$REP_P5008_tail <- factor(news_reduced_clean_two_methods$REP_P5008_tail)
news_reduced_clean_two_methods$REP_P552_tail <- factor(news_reduced_clean_two_methods$REP_P552_tail)
news_reduced_clean_two_methods$REP_P641_tail <- factor(news_reduced_clean_two_methods$REP_P641_tail)
news_reduced_clean_two_methods$REP_P6886_head <- factor(news_reduced_clean_two_methods$REP_P6886_head)
news_reduced_clean_two_methods$REP_P6886_tail <- factor(news_reduced_clean_two_methods$REP_P6886_tail)
news_reduced_clean_two_methods$REP_P937_head <- factor(news_reduced_clean_two_methods$REP_P937_head)
news_reduced_clean_two_methods$REP_P937_tail <- factor(news_reduced_clean_two_methods$REP_P937_tail)
news_reduced_clean_two_methods$REP_category <- factor(news_reduced_clean_two_methods$REP_category)
news_reduced_clean_two_methods$REP_subcategory <- factor(news_reduced_clean_two_methods$REP_subcategory)
vardep <- c("REP_clicked")
categoricas <- c(
"REP_P102_head",
"REP_P103_head",
"REP_P103_tail",
"REP_P1050_head",
"REP_P1050_tail",
"REP_P106_head",
"REP_P106_tail",
"REP_P118_head",
"REP_P131_tail",
"REP_P1340_tail",
"REP_P1343_head",
"REP_P1343_tail",
"REP_P1412_head",
"REP_P1412_tail",
"REP_P1532_head",
"REP_P1622_head",
"REP_P166_head",
"REP_P166_tail",
"REP_P172_head",
"REP_P172_tail",
"REP_P17_tail",
"REP_P1884_tail",
"REP_P206_head",
"REP_P206_tail",
"REP_P21_head",
"REP_P27_tail",
"REP_P2936_head",
"REP_P2936_tail",
"REP_P30_head",
"REP_P30_tail",
"REP_P31_head",
"REP_P31_tail",
"REP_P361_head",
"REP_P361_tail",
"REP_P37_head",
"REP_P37_tail",
"REP_P39_tail",
"REP_P421_tail",
"REP_P463_tail",
"REP_P495_head",
"REP_P5008_head",
"REP_P5008_tail",
"REP_P552_tail",
"REP_P641_tail",
"REP_P6886_head",
"REP_P6886_tail",
"REP_P937_head",
"REP_P937_tail",
"REP_category",
"REP_subcategory"
)
# avNNet
avnnetn2c01 <- cruzadaavnnetbin(
data = news_reduced_clean_two_methods,
vardep = vardep,
listclass = categoricas,
grupos = 4,
sinicio = 1234,
repe = 10,
size = c(2),
decay = c(0.1),
repeticiones = 5,
itera = 200
)
avnnetn2c01$modelo = "avnnet-n2-c0.1-v2"
save.image("C:/Users/secci/Workspace/TFM/R/2 methods/avnnet-n2-c0.1-v2.RData")
